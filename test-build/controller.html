<script type="text/javascript" src="https://www.airconsole.com/api/airconsole-1.7.0.js"></script>
<script type="text/javascript" src="src/controllerManager.js"></script>
<script type="text/javascript" src="airconsole-controls/button/button.js"></script>
<link rel="stylesheet" href="airconsole-controls/button/button.css">

<style type="text/css">
  body {
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
  }
  .example-container {
    background-color: #3b3b3b;
    text-align: center;
    font-family: sans-serif;
    display: inline-block;
    width: 100%;
    height: 100%;
    max-width: 720px;
    max-height: 360px;
    position: relative;
  }
  /* You need to explicitly position your buttons */
  #button-round {
    position: absolute;
    width: 10%;
    height: 100%;
    left: 10%;
    top: 0px;
  }
  /* You need to explicitly position your buttons */
  #button-rectangular {
    position: absolute;
    width: 100%;
    height: 100%;
    right: 10%;
    top: 0px;
  }
</style>

<div id=button-rectangular class=button-300-300>
  <div class="button-text">FIRE</div>
</div>

<script type="text/javascript">
var airconsole = new AirConsole({"orientation": "portrait", "device_motion": 50});

var rectangular = new Button("button-rectangular", {
  "down": function() {
    var message = {
      'action': 'shootDown',    
    }
    airconsole.message(AirConsole.SCREEN, message);
  },
  "up": function() {
    var message = {
      'action': 'shootUp',    
    }
    airconsole.message(AirConsole.SCREEN, message);
  }
});

airconsole.onDeviceMotion = function(data) {
  var message = {
  'action': 'move',
  'packet': {
    'aroundX': data.beta,
    'aroundY': data.gamma
  }  
};

  airconsole.message(AirConsole.SCREEN, message);
}

// // Listen for messages
// airconsole.onMessage = function(from, data) {
//   // Show message on device screen
//   var info = document.createElement('DIV');
//   info.innerHTML = data;
//   document.body.appendChild(info);
// };
</script>